!function(e){e.fn.SelectorWheel=function(a){function t(){s.drawLights("-up"),o.append("<div class='spanblock'></div>"),n=e(".spanblock",o);for(var a=s.customSymbol(s.value),t=0;t<l.symCount;t++)n.append("<span class='symbol'>"+a.charAt(t)+"</span>");if(l.eachSymbol){var i=0;s.cells=[],e(".symbol",o).each(function(){s.cells.push({object:e(this),value:e(this).html()}),s.bindEvents(e(this),i++),e(this).on("mouseScrolled",s.viewCallback)});{l.changeSign?s.cells[0].object.on("click",s.changeToMinus):void 0}}else s.bindEvents(o),o.on("mouseScrolled",s.separateViewCallback);s.drawLights("-down"),l.hiddenInput.enabled&&s.setHiddenInput(l.hiddenInput.id,l.hiddenInput.name)}var n,o=this,l=e.extend({value:void 0===o.attr("value")?0:parseInt(o.attr("value")),symCount:void 0===o.attr("length")?3:parseInt(o.attr("length")),valueFrom:void 0===o.attr("valueFrom")?0:o.attr("valueFrom"),valueTo:void 0===o.attr("valueTo")?999:o.attr("valueTo"),changeSign:!1,sensetivity:1,capture:!0,eachSymbol:!1,hiddenInput:{enabled:!1}},a),s={value:l.value,sign:1,graphics:{},getSymbolDifference:function(){return l.symCount-s.value.toString().length},customSymbol:function(e){var a=s.getSymbolDifference();for(e=e.toString();a-->0;)e="0"+e;return e},redrawFull:function(a){a=s.customSymbol(a);for(var t=0;t<l.symCount;t++)symbol=a.charAt(t),e(e(".symbol",o)[t]).html(symbol)},separateViewCallback:function(e){var a=s.value+e.direction/l.sensetivity;a<=l.valueTo&&a>=l.valueFrom?(s.value=a,s.redrawFull(a)):(a<=l.valueTo&&a<=l.valueFrom?s.value=parseInt(l.valueFrom):a>=l.valueTo&&a>=l.valueFrom&&(s.value=parseInt(l.valueTo)),s.setMask(s.value)),s.hiddenInput.trigger({type:"change",val:s.value}),console.log(s.value)},viewCallback:function(a){var t=(parseInt(a.value)+a.direction)%10<0?10+(parseInt(a.value)+a.direction)%10:(parseInt(a.value)+a.direction)%10;s.cells[a.position].value=t;for(var n=0,o=0,i=s.cells.length;i>o;o++)n+=Math.pow(10,l.symCount-o-1)*s.cells[o].value;n*=s.sign,n<=l.valueTo&&n>=l.valueFrom?(s.value=Math.abs(n),e(this).html(t)):(n<=l.valueTo&&n<=l.valueFrom?s.value=parseInt(l.valueFrom):n>=l.valueTo&&n>=l.valueFrom&&(s.value=parseInt(l.valueTo)),s.setMask(s.value)),s.value*=s.sign,s.hiddenInput.trigger({type:"change",val:s.value}),console.log(s.value)},bindEvents:function(a,t){a.on("mousewheel",function(n){a.trigger({type:"mouseScrolled",direction:n.deltaY,value:e(this).html(),position:t})})},changeToMinus:function(){if(l.valueFrom>=0)throw"Error: You can't decrease value less then zero";"-"==e(this).html()?(e(this).html(s.stack),s.value*=s.sign,s.sign=1,0!=s.stack&&(s.value+=s.stack*Math.pow(10,l.symCount-1)),s.cells[0].value=s.stack):(e(this).html("-"),s.stack=s.cells[0].value,0!=s.cells[0].value&&(s.value-=s.cells[0].value*Math.pow(10,l.symCount-1)),s.cells[0].value=0,s.sign=-1,s.value*=s.sign),s.hiddenInput.trigger({type:"change",val:s.value}),console.log(s.value)},setMask:function(a){for(var t=s.customSymbol(a),n=0;n<l.symCount;n++)e(e(".symbol",o)[n]).html(t.charAt(n)),l.eachSymbol&&(s.cells[n].value=parseInt(t.charAt(n)))},drawLights:function(a){"-up"==a?(o.append("<div class='shadow shadow-up'></div>"),s.graphics.shadowUp=e(".shadow-up",o)):"-down"==a?(o.append("<div class='shadow shadow-down'></div>"),s.graphics.shadowDown=e(".shadow-down",o)):(s.positioning(),e(window).resize(s.positioning))},positioning:function(){s.graphics.shadowUp.css("width",o.width()-1),s.graphics.shadowDown.css("width",o.width()-1),s.graphics.shadowUp.css("top",o.position().top-8),s.graphics.shadowDown.css("top",o.position().top+34)},setHiddenInput:function(e,a){o.after("<input type='hidden' id='"+e+"' name='"+a+"' value='"+s.value+"'>"),s.hiddenInput=o.next(),s.hiddenInput.on("change",function(e){s.hiddenInput.attr("value",e.val)})}};return t(),s.drawLights(),this.getProperty=function(e){if("function"!=typeof s[e])return s[e];throw"Error: Requested property is private function. Access denied."},this}}(jQuery);